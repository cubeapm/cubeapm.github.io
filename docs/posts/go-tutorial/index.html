<!DOCTYPE html>









<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en"
  
>

  <!-- The Head -->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  >

  
    

    
  

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="OpenTelemetry Golang Tutorial with a sample Go app instrumentation" />
<meta property="og:locale" content="en" />
<meta name="description" content="OpenTelemetry can be used to generate telemetry data from your Go applications. The collected data can then be sent to an observability tool for storage and visualization. OpenTelemetry is an open-source project under the Cloud Native Computing Foundation (CNCF) that aims to standardize the generation and collection of telemetry data." />
<meta property="og:description" content="OpenTelemetry can be used to generate telemetry data from your Go applications. The collected data can then be sent to an observability tool for storage and visualization. OpenTelemetry is an open-source project under the Cloud Native Computing Foundation (CNCF) that aims to standardize the generation and collection of telemetry data." />
<link rel="canonical" href="https://cubeapm.github.io/posts/go-tutorial/" />
<meta property="og:url" content="https://cubeapm.github.io/posts/go-tutorial/" />
<meta property="og:site_name" content="CubeAPM" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-04-01T00:00:00+05:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="OpenTelemetry Golang Tutorial with a sample Go app instrumentation" />
<meta name="twitter:site" content="@twitter_username" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-04-02T18:27:15+05:30","datePublished":"2023-04-01T00:00:00+05:30","description":"OpenTelemetry can be used to generate telemetry data from your Go applications. The collected data can then be sent to an observability tool for storage and visualization. OpenTelemetry is an open-source project under the Cloud Native Computing Foundation (CNCF) that aims to standardize the generation and collection of telemetry data.","headline":"OpenTelemetry Golang Tutorial with a sample Go app instrumentation","mainEntityOfPage":{"@type":"WebPage","@id":"https://cubeapm.github.io/posts/go-tutorial/"},"url":"https://cubeapm.github.io/posts/go-tutorial/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>OpenTelemetry Golang | Tutorial with a sample Go app instrumentation | CubeAPM
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="CubeAPM">
<meta name="application-name" content="CubeAPM">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>

  
    <!--
  Switch the mode between dark and light.
-->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() { return "mode"; }
    static get MODE_ATTR() { return "data-mode"; }
    static get DARK_MODE() { return "dark"; }
    static get LIGHT_MODE() { return "light"; }
    static get ID() { return "mode-toggle"; }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); }

    get isSysDarkPrefer() { return this.sysDarkPrefers.matches; }

    get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; }

    get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; }

    get hasMode() { return this.mode != null; }

    get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      $('html').removeAttr(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage({
        direction: ModeToggle.ID,
        message: this.modeStatus
      }, "*");
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  
</head>


  <body data-topbar-visible="true">

    <!--
  The Side Bar
-->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" class="mx-auto">
        
      </a>
    </div>

    <div class="site-title">
      <a href="/">CubeAPM</a>
    </div>
    <div class="site-subtitle font-italic">All in one monitoring tool</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">

    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tags/" class="nav-link">
        <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/about/" class="nav-link">
        <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center">

    
      <button class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
      <a href="https://github.com/github_username" aria-label="github"
        

        
          target="_blank"
          
        

        

        rel="noopener noreferrer">

        <i class="fab fa-github"></i>
      </a>
      

    
      

      
      <a href="https://twitter.com/twitter_username" aria-label="twitter"
        

        
          target="_blank"
          
        

        

        rel="noopener noreferrer">

        <i class="fab fa-twitter"></i>
      </a>
      

    
      

      
      <a href="javascript:location.href = 'mailto:' + ['example','domain.com'].join('@')" aria-label="email"
        

        

        

        >

        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        

        

        

        >

        <i class="fas fa-rss"></i>
      </a>
      

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
-->

<div id="topbar-wrapper">
  <div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4">
    <span id="breadcrumb">

    

    

      

        
          <span>
            <a href="/">
              Home
            </a>
          </span>

        

      

        

      

        

          
            <span>OpenTelemetry Golang | Tutorial with a sample Go app instrumentation</span>
          

        

      

    

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" autocomplete="off" placeholder="Search...">
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div id="main" class="container pl-xl-4 pr-xl-4">
        





<div class="row">

  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4">
    <div class="post pl-1 pr-1 pl-md-2 pr-md-2">

    

    
      
      
        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->


<!-- images -->




  
  

  <!-- CDN URL -->
  

  <!-- Add image path -->
  

  
    
      
      
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  

  



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  

  
  

  

  
  

  




<!-- return -->

<h1 data-toc-skip>OpenTelemetry Golang | Tutorial with a sample Go app instrumentation</h1>

<div class="post-meta text-muted">
    <!-- published date -->
    <span>
      Posted
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class=""
    data-ts="1680287400"
    data-df="ll"
    data-toggle="tooltip" data-placement="bottom">
  Apr  1, 2023
</em>

    </span>

    <!-- lastmod date -->
    
    <span>
      Updated
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class=""
    data-ts="1680440235"
    data-df="ll"
    data-toggle="tooltip" data-placement="bottom">
  Apr  2, 2023
</em>

    </span>
    

  

  <div class="d-flex justify-content-between">
    <!-- author(s) -->
    <span>
      

      By

      <em>
      
        <a href="https://twitter.com/username">CubeAPM</a>
      
      </em>
    </span>

    <div>
      <!-- page views -->
      

      <!-- read time -->
      <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->



<!-- words per minute  -->










<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom"
  title="1173 words">
  <em>6 min</em> read</span>

    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <p>OpenTelemetry can be used to generate telemetry data from your Go applications. The collected data can then be sent to an observability tool for storage and visualization. OpenTelemetry is an open-source project under the Cloud Native Computing Foundation (<a href="https://www.cncf.io/">CNCF</a>) that aims to standardize the generation and collection of telemetry data.</p>

<p>In this tutorial, we will use OpenTelemetry Go libraries to instrument a Go application and then visualize it using an open-source observability tool - <a href="https://CubeApm.io/">CubeApm</a>.</p>

<p>Steps to get started with OpenTelemetry for Go applications:</p>

<ul>
  <li><a href="#installing-CubeApm">Installing CubeApm</a></li>
  <li><a href="#instrumenting-a-go-application-with-opentelemetry">Instrumenting a Go application with OpenTelemetry</a></li>
  <li><a href="#adding-custom-attributes-and-custom-events-to-spans">Adding custom attributes and custom events to spans</a></li>
  <li><a href="#monitor-your-go-application-with-CubeApm-dashboards">Monitoring your Go application with CubeApm dashboards</a></li>
</ul>

<h2 id="installing-cubeapm"><span class="mr-2">Installing CubeApm<a href="#installing-CubeApm" title="Direct link to Installing CubeApm">​</a></span><a href="#installing-cubeapm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>First, you need to install CubeApm so that OpenTelemetry can send the data to it.</p>

<p>CubeApm can be installed on macOS or Linux machines in just three steps by using a simple install script.</p>

<p>The install script automatically installs Docker Engine on Linux. However, on macOS, you must manually install <a href="https://docs.docker.com/engine/install/">Docker Engine</a> before running the install script.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>git clone -b main https://github.com/CubeApm/CubeApm.gitcd CubeApm/deploy/./install.sh
</pre></td></tr></tbody></table></code></div></div>

<p>You can visit our documentation for instructions on how to install CubeApm using Docker Swarm and Helm Charts.</p>

<p>When you are done installing CubeApm, you can access the UI at <a href="http://localhost:3301/application">http://localhost:3301</a></p>

<p><em>CubeApm dashboard - It shows services from a sample app that comes bundled with the application</em></p>

<h2 id="instrumenting-a-go-application-with-opentelemetry"><span class="mr-2">Instrumenting a Go application with OpenTelemetry<a href="#instrumenting-a-go-application-with-opentelemetry" title="Direct link to Instrumenting a Go application with OpenTelemetry">​</a></span><a href="#instrumenting-a-go-application-with-opentelemetry" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p><strong>Step 1: Get sample Go app from GitHub</strong></p>

<p>The <a href="https://github.com/CubeApm/sample-golang-app">sample Go app repo</a> contains the boilerplate code that we will instrument.</p>

<p>If you want to follow along with the tutorial, then you should follow the <code class="language-plaintext highlighter-rouge">without-instrumentation</code> branch.</p>

<p><strong>Step 2: Install dependencies</strong></p>

<p>Dependencies related to OpenTelemetry exporter and SDK have to be installed first. Run the below commands after navigating to the application source folder:</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">go</span> <span class="n">get</span> <span class="k">go</span><span class="o">.</span><span class="n">opentelemetry</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">otel</span>
<span class="k">go</span><span class="o">.</span><span class="n">opentelemetry</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">otel</span><span class="o">/</span><span class="n">trace</span>
<span class="k">go</span><span class="o">.</span><span class="n">opentelemetry</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">otel</span><span class="o">/</span><span class="n">sdk</span>
<span class="k">go</span><span class="o">.</span><span class="n">opentelemetry</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">contrib</span><span class="o">/</span><span class="n">instrumentation</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gin</span><span class="o">-</span><span class="n">gonic</span><span class="o">/</span><span class="n">gin</span><span class="o">/</span><span class="n">otelgin</span>
<span class="k">go</span><span class="o">.</span><span class="n">opentelemetry</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">otel</span><span class="o">/</span><span class="n">exporters</span><span class="o">/</span><span class="n">otlp</span><span class="o">/</span><span class="n">otlptrace</span>
<span class="k">go</span><span class="o">.</span><span class="n">opentelemetry</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">otel</span><span class="o">/</span><span class="n">exporters</span><span class="o">/</span><span class="n">otlp</span><span class="o">/</span><span class="n">otlptrace</span><span class="o">/</span><span class="n">otlptracegrpc</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>Step 3: Declare environment variables for configuring OpenTelemetry</strong></p>

<p>Declare the following variables in <code class="language-plaintext highlighter-rouge">main.go</code> which we will use to configure OpenTelemetry:</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="p">(</span>
    <span class="n">serviceName</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span><span class="p">(</span><span class="s">"SERVICE_NAME"</span><span class="p">)</span>
    <span class="n">collectorURL</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span><span class="p">(</span><span class="s">"OTEL_EXPORTER_OTLP_ENDPOINT"</span><span class="p">)</span>
    <span class="n">insecure</span>     <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span><span class="p">(</span><span class="s">"INSECURE_MODE"</span><span class="p">)</span>
<span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>Step 4: Instrument your Go application with OpenTelemetry</strong></p>

<p>To configure your application to send data we will need a function to initialize OpenTelemetry. Add the following snippet of code in your <code class="language-plaintext highlighter-rouge">main.go</code> file.</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre></td><td class="rouge-code"><pre><span class="k">import</span> <span class="p">(</span>
    <span class="s">"github.com/gin-gonic/gin"</span>
    <span class="s">"go.opentelemetry.io/otel"</span>
    <span class="s">"go.opentelemetry.io/otel/attribute"</span>
    <span class="s">"go.opentelemetry.io/otel/exporters/otlp/otlptrace"</span>
    <span class="s">"go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc"</span>

    <span class="s">"go.opentelemetry.io/otel/sdk/resource"</span>
    <span class="n">sdktrace</span> <span class="s">"go.opentelemetry.io/otel/sdk/trace"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">initTracer</span><span class="p">()</span> <span class="k">func</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">Context</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>


    <span class="n">secureOption</span> <span class="o">:=</span> <span class="n">otlptracegrpc</span><span class="o">.</span><span class="n">WithTLSCredentials</span><span class="p">(</span><span class="n">credentials</span><span class="o">.</span><span class="n">NewClientTLSFromCert</span><span class="p">(</span><span class="no">nil</span><span class="p">,</span> <span class="s">""</span><span class="p">))</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">insecure</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="p">{</span>
        <span class="n">secureOption</span> <span class="o">=</span> <span class="n">otlptracegrpc</span><span class="o">.</span><span class="n">WithInsecure</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="n">exporter</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">otlptrace</span><span class="o">.</span><span class="n">New</span><span class="p">(</span>
        <span class="n">context</span><span class="o">.</span><span class="n">Background</span><span class="p">(),</span>
        <span class="n">otlptracegrpc</span><span class="o">.</span><span class="n">NewClient</span><span class="p">(</span>
            <span class="n">secureOption</span><span class="p">,</span>
            <span class="n">otlptracegrpc</span><span class="o">.</span><span class="n">WithEndpoint</span><span class="p">(</span><span class="n">collectorURL</span><span class="p">),</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">resources</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">resource</span><span class="o">.</span><span class="n">New</span><span class="p">(</span>
        <span class="n">context</span><span class="o">.</span><span class="n">Background</span><span class="p">(),</span>
        <span class="n">resource</span><span class="o">.</span><span class="n">WithAttributes</span><span class="p">(</span>
            <span class="n">attribute</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="s">"service.name"</span><span class="p">,</span> <span class="n">serviceName</span><span class="p">),</span>
            <span class="n">attribute</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="s">"library.language"</span><span class="p">,</span> <span class="s">"go"</span><span class="p">),</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Could not set resources: "</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">otel</span><span class="o">.</span><span class="n">SetTracerProvider</span><span class="p">(</span>
        <span class="n">sdktrace</span><span class="o">.</span><span class="n">NewTracerProvider</span><span class="p">(</span>
            <span class="n">sdktrace</span><span class="o">.</span><span class="n">WithSampler</span><span class="p">(</span><span class="n">sdktrace</span><span class="o">.</span><span class="n">AlwaysSample</span><span class="p">()),</span>
            <span class="n">sdktrace</span><span class="o">.</span><span class="n">WithBatcher</span><span class="p">(</span><span class="n">exporter</span><span class="p">),</span>
            <span class="n">sdktrace</span><span class="o">.</span><span class="n">WithResource</span><span class="p">(</span><span class="n">resources</span><span class="p">),</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">exporter</span><span class="o">.</span><span class="n">Shutdown</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>Step 5: Initialize the tracer in main.go</strong></p>

<p>Modify the main function to initialise the tracer in <code class="language-plaintext highlighter-rouge">main.go</code></p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cleanup</span> <span class="o">:=</span> <span class="n">initTracer</span><span class="p">()</span>
    <span class="k">defer</span> <span class="n">cleanup</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">Background</span><span class="p">())</span>

    <span class="o">......</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>Step 6: Add the OpenTelemetry Gin middleware</strong></p>

<p>Configure Gin to use the middleware by adding the following lines in <code class="language-plaintext highlighter-rouge">main.go</code>.</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">import</span> <span class="p">(</span>
    <span class="o">....</span>
  <span class="s">"go.opentelemetry.io/contrib/instrumentation/github.com/gin-gonic/gin/otelgin"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="o">......</span>
    <span class="n">r</span> <span class="o">:=</span> <span class="n">gin</span><span class="o">.</span><span class="n">Default</span><span class="p">()</span>
    <span class="n">r</span><span class="o">.</span><span class="n">Use</span><span class="p">(</span><span class="n">otelgin</span><span class="o">.</span><span class="n">Middleware</span><span class="p">(</span><span class="n">serviceName</span><span class="p">))</span>
    <span class="o">......</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p><strong>Step 7: Set environment variables and run your Go Gin application</strong></p>

<p>Now that you have instrumented your Go Gin application with OpenTelemetry, you need to set some environment variables to send data to CubeApm backend:</p>

<p><code class="language-plaintext highlighter-rouge">SERVICE_NAME</code>: goGinApp (you can name it whatever you want)</p>

<p><code class="language-plaintext highlighter-rouge">OTEL_EXPORTER_OTLP_ENDPOINT</code>: localhost:4317</p>

<p>Since, we have installed CubeApm on our local machine, we use the above IP. If you install CubeApm on a different machine, you can update it with the relevant IP.</p>

<p>Hence, the final run command looks like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>SERVICE_NAME=goGinApp INSECURE_MODE=true OTEL_EXPORTER_OTLP_ENDPOINT=localhost:4317 go run main.go
</pre></td></tr></tbody></table></code></div></div>

<p>And, congratulations! You have instrumented your sample Golang app.</p>

<p>Hit the <code class="language-plaintext highlighter-rouge">/books</code> endpoint of the bookstore app at <a href="http://localhost:8090/books">http://localhost:8090/books</a>. Refresh it a bunch of times in order to generate load, and wait for 1-2 mins for data to appear on CubeApm dashboard.</p>

<h2 id="adding-custom-attributes-and-custom-events-to-spans"><span class="mr-2">Adding custom attributes and custom events to spans<a href="#adding-custom-attributes-and-custom-events-to-spans" title="Direct link to Adding custom attributes and custom events to spans">​</a></span><a href="#adding-custom-attributes-and-custom-events-to-spans" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>It’s also possible to set custom attributes or tags to a span. To add custom attributes and events follow the below steps:</p>

<p><strong>Step 1: Import trace and attribute libraries</strong></p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">import</span> <span class="p">(</span>
    <span class="o">...</span>
    <span class="s">"go.opentelemetry.io/otel/attribute"</span>
    <span class="s">"go.opentelemetry.io/otel/trace"</span>
<span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>Step 2: Fetch current span from context</strong></p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  <span class="n">span</span> <span class="o">:=</span> <span class="n">trace</span><span class="o">.</span><span class="n">SpanFromContext</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">Request</span><span class="o">.</span><span class="n">Context</span><span class="p">())</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>Step 3: Set attribute on current</strong></p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  <span class="n">span</span><span class="o">.</span><span class="n">SetAttributes</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="s">"controller"</span><span class="p">,</span> <span class="s">"books"</span><span class="p">))</span>
</pre></td></tr></tbody></table></code></div></div>

<p>CubeApm dashboards can be used to track these custom attributes.</p>

<p><a href="/img/blog/2022/05/opentelemetry_go_custom_attributes.webp" class="popup img-link "><img data-src="/img/blog/2022/05/opentelemetry_go_custom_attributes.webp" alt="Custom attributes on CubeApm dashboard" class="lazyload" data-proofer-ignore></a></p>

<p><em>Custom attributes can seen under `Tags` section on CubeApm trace detail page</em></p>

<p>We can also set custom event on the span with it’s own attribute.</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">span</span><span class="o">.</span><span class="n">AddEvent</span><span class="p">(</span><span class="s">"This is a sample event"</span><span class="p">,</span> <span class="n">trace</span><span class="o">.</span><span class="n">WithAttributes</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">Int</span><span class="p">(</span><span class="s">"pid"</span><span class="p">,</span> <span class="m">4328</span><span class="p">),</span> <span class="n">attribute</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="s">"sampleAttribute"</span><span class="p">,</span> <span class="s">"Test"</span><span class="p">)))</span>
</pre></td></tr></tbody></table></code></div></div>

<p>You can also see these custom events on CubeApm dashboard.</p>

<p><a href="/img/blog/2022/05/opentelemetry_go_events.webp" class="popup img-link "><img data-src="/img/blog/2022/05/opentelemetry_go_events.webp" alt="Custom Events on CubeApm Dashboard" class="lazyload" data-proofer-ignore></a></p>

<p><em>Events can be seen under `Events` section on CubeApm trace detail page</em></p>

<p>Events can be seen under <code class="language-plaintext highlighter-rouge">Events</code> section on CubeApm trace detail page</p>

<h2 id="monitor-your-go-application-with-cubeapm-dashboards"><span class="mr-2">Monitor your Go application with CubeApm dashboards<a href="#monitor-your-go-application-with-CubeApm-dashboards" title="Direct link to Monitor your Go application with CubeApm dashboards">​</a></span><a href="#monitor-your-go-application-with-cubeapm-dashboards" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>With the above steps, you have instrumented your Go application with OpenTelemetry. OpenTelemetry sends the collected data to CubeApm which can be used to store it and visualize it. Let’s see how CubeApm can help you monitor your Go application.</p>

<p>You need to interact with your sample application a bit to generate some monitoring data. As mentioned earlier, hit the <code class="language-plaintext highlighter-rouge">/books</code> endpoint of the bookstore app at <a href="http://localhost:8090/books">http://localhost:8090/books</a> and refresh it a bunch of times in order to generate load.</p>

<p>You can then navigate to <a href="http://localhost:3301/application">http://localhost:3301/application</a> (needs signup) to see your Go app being monitored.</p>

<p>Go to <code class="language-plaintext highlighter-rouge">Metrics</code>→ <code class="language-plaintext highlighter-rouge">goGinApp</code>→ you will be able to see the dashboard.</p>

<p><em>Your Go Gin application being monitored on the CubeApm dashboard</em></p>

<p>You can monitor application metrics like application latency, requests per second, error percentage, etc. with the <code class="language-plaintext highlighter-rouge">Metrics</code> tab of CubeApm.</p>

<p><em>You can monitor your Go Gin application metrics like application latency, requests per second, error percentage, etc.</em></p>

<p>OpenTelemetry captures tracing data from your Gin application as well. Tracing data can help you visualize how user requests perform across services in a multi-service application.</p>

<p>In the <code class="language-plaintext highlighter-rouge">Traces</code> tab of CubeApm, you can analyze the tracing data using filters based on tags, status codes, service names, operations, etc.</p>

<p><em>Use powerful filters to analyze your tracing data from the Gin application</em></p>

<p>You can also visualize your tracing data with the help of flamegraphs and Gantt charts.</p>

<p><em>Flamegraphs and Gantt charts on CubeApm dashboard</em></p>

<h2 id="conclusion"><span class="mr-2">Conclusion<a href="#conclusion" title="Direct link to Conclusion">​</a></span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Using OpenTelemetry libraries, you can instrument your Go applications for setting up observability. You can then use an open-source APM tool like CubeApm to ensure the smooth performance of your Go applications.</p>

<p>OpenTelemetry is the future for setting up observability for cloud-native apps. It is backed by a huge community and covers a wide variety of technology and frameworks. Using OpenTelemetry, engineering teams can instrument polyglot and distributed applications with peace of mind.</p>

</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  
  <div class="post-meta mb-3">
    <i class="far fa-folder-open fa-fw mr-1"></i>
    
      <a href='/categories/auto-instrumentation/'>Auto-instrumentation</a>,
      <a href='/categories/go/'>Go</a>
  </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw mr-1"></i>
      
      <a href="/tags/go/"
          class="post-tag no-text-decoration" >go</a>
      
      <a href="/tags/autoinstrumentation/"
          class="post-tag no-text-decoration" >autoinstrumentation</a>
      
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.

      
    </div>

    <!--
 Post sharing snippet
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=OpenTelemetry%20Golang%20%7C%20Tutorial%20with%20a%20sample%20Go%20app%20instrumentation%20-%20CubeAPM&url=https%3A%2F%2Fcubeapm.github.io%2Fposts%2Fgo-tutorial%2F" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=OpenTelemetry%20Golang%20%7C%20Tutorial%20with%20a%20sample%20Go%20app%20instrumentation%20-%20CubeAPM&u=https%3A%2F%2Fcubeapm.github.io%2Fposts%2Fgo-tutorial%2F" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://t.me/share/url?url=https%3A%2F%2Fcubeapm.github.io%2Fposts%2Fgo-tutorial%2F&text=OpenTelemetry%20Golang%20%7C%20Tutorial%20with%20a%20sample%20Go%20app%20instrumentation%20-%20CubeAPM" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i id="copy-link" class="fa-fw fas fa-link small"
        data-toggle="tooltip" data-placement="top"
        title="Copy link"
        data-title-succeed="Link copied successfully!">
    </i>

  </span>
</div>


  </div><!-- .post-tail-bottom -->

</div><!-- div.post-tail-wrapper -->


      
    
    

    </div>
  </div> <!-- #core-wrapper -->

  <!-- panel -->
  <div id="panel-wrapper" class="col-xl-3 pl-2 text-muted">

    <div class="access">
      















  <div id="access-lastmod" class="post">
    <div class="panel-heading">Recently Updated</div>
    <ul class="post-content pl-0 pb-1 ml-1 mt-2">
      
        
        
        
      <li><a href="/posts/go-tutorial/">OpenTelemetry Golang | Tutorial with a sample Go app instrumentation</a></li>
      
        
        
        
      <li><a href="/posts/java-tutorial/">OpenTelemetry Java | Tutorial with a sample Java app instrumentation</a></li>
      
        
        
        
      <li><a href="/posts/node-tutorial/">OpenTelemetry Nodejs | Tutorial with a sample Nodejs app instrumentation</a></li>
      
        
        
        
      <li><a href="/posts/python-tutorial/">OpenTelemetry Python | Tutorial with a sample Python app instrumentation</a></li>
      
    </ul>
  </div> <!-- #access-lastmod -->



      















  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

    
      
      <a class="post-tag" href="/tags/autoinstrumentation/">autoinstrumentation</a>
    
      
      <a class="post-tag" href="/tags/go/">go</a>
    
      
      <a class="post-tag" href="/tags/java/">java</a>
    
      
      <a class="post-tag" href="/tags/nodejs/">nodejs</a>
    
      
      <a class="post-tag" href="/tags/python/">python</a>
    

    </div>
  </div>


    </div>

    
      
      



  <div id="toc-wrapper" class="pl-0 pr-4 mb-5">
    <div class="panel-heading pl-3 pt-2 mb-2">Contents</div>
    <nav id="toc"></nav>
  </div>

  <!-- toc.js will be loaded at medium priority -->
  <script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script>


    
  </div>

</div>

<!-- tail -->

<div class="row">
  <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5">
    
      
      <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  
    






<!-- Fill with the other newlest posts  -->





  <div id="related-posts" class="mb-2 mb-sm-4">
    <h3 class="pt-2 mb-4 ml-1"
      data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/java-tutorial/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="small"
    data-ts="1680287400"
    data-df="ll"
    >
  Apr  1, 2023
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>OpenTelemetry Java | Tutorial with a sample Java app instrumentation</h3>
            <div class="text-muted small">
              <p>
                





                OpenTelemetry is a vendor-agnostic instrumentation library. In this article, let’s explore how to auto-instrument a Tomcat Java application using OpenTelemetry Java JAR agent.

After capturing tele...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/node-tutorial/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="small"
    data-ts="1680287400"
    data-df="ll"
    >
  Apr  1, 2023
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>OpenTelemetry Nodejs | Tutorial with a sample Nodejs app instrumentation</h3>
            <div class="text-muted small">
              <p>
                





                OpenTelemetry can auto-instrument many common modules for a Javascript application. The telemetry data captured can then be sent to CubeApm for analysis and visualization.

Creating sample Nodejs a...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/python-tutorial/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="small"
    data-ts="1680287400"
    data-df="ll"
    >
  Apr  1, 2023
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>OpenTelemetry Python | Tutorial with a sample Python app instrumentation</h3>
            <div class="text-muted small">
              <p>
                





                OpenTelemetry is a vendor-agnostic instrumentation library under CNCF. It can be used to instrument your Python applications to generate telemetry data. Let’s learn how it works and see how to visu...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->


    
      
      <!--
  Navigation buttons at the bottom of the post.
-->

<div class="post-navigation d-flex justify-content-between">
  
  <div class="btn btn-outline-primary disabled"
    prompt="Older">
    <p>-</p>
  </div>
  

  
  <a href="/posts/java-tutorial/" class="btn btn-outline-primary"
    prompt="Newer">
    <p>OpenTelemetry Java | Tutorial with a sample Java app instrumentation</p>
  </a>
  

</div>

    
      
      <!--  The comments switcher -->


    
  </div>
</div>


      </div>

      <!--
  The Search results
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-sm-11 post-content">
    <div id="search-hints">
      















  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

    
      
      <a class="post-tag" href="/tags/autoinstrumentation/">autoinstrumentation</a>
    
      
      <a class="post-tag" href="/tags/go/">go</a>
    
      
      <a class="post-tag" href="/tags/java/">java</a>
    
      
      <a class="post-tag" href="/tags/nodejs/">nodejs</a>
    
      
      <a class="post-tag" href="/tags/python/">python</a>
    

    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    <!-- The Footer -->

<footer>
  <div class="container pl-lg-4 pr-lg-4">
    <div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3">
      <div class="footer-left">
        <p class="mb-0">
          © 2023
          <a href="https://twitter.com/username">CubeAPM</a>.
          
          <span data-toggle="tooltip" data-placement="top"
            title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
          
        </p>
      </div>

      <div class="footer-right">
        <p class="mb-0">Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>.
        </p>
      </div>
    </div>
  </div>
</footer>


    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    
      <div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true"
        data-animation="true" data-autohide="false">
        <div class="toast-header">
          <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="toast-body text-center pt-0">
          <p class="pl-2 pr-2 mb-3">A new version of content is available.</p>
          <button type="button" class="btn btn-primary" aria-label="Update">
            Update
          </button>
        </div>
      </div>
    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No results found.</p>',
  templateMiddleware: function(prop, value, template) {
    if (prop === 'categories') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
      }
    }

    if (prop === 'tags') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
      }
    }
  }
});
</script>


    <!-- JS selector for site. -->

<!-- layout specified -->


  



  <!-- image lazy-loading & popup & clipboard -->
  

  







  
    

    

  



  
    

    

  



  
    

    

  




  <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js"></script>





  

  

  







  
    

    

  



  
    

    

  



  
    

    

  



  
    

    

  




  <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1.11.6/dayjs.min.js,npm/dayjs@1.11.6/locale/en.min.js,npm/dayjs@1.11.6/plugin/relativeTime.min.js,npm/dayjs@1.11.6/plugin/localizedFormat.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- commons -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>




  </body>

</html>

